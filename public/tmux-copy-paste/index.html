<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="title" content="Brent Vatne" />
    <meta name="robots" content="index, follow" />
    <meta name="description" content="Brent Vatne's blog" />
    <meta name="keywords" content="" />
    <meta name="language" content="en" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>Copy and paste in Tmux on OSX</title>
    <script type="text/javascript" src="http://use.typekit.com/zek4ano.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" href="/css/screen.css" />
    <link rel="stylesheet" href="/css/railscasts.css" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-10128745-7']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <div class="sixteen columns">
        <section id="brents-blog">
          <div class="sixteen columns">
  <article class="complete">
    <header>
      <hgroup>
        <h1>Copy and paste in Tmux on OSX</h1>
        <h2><a href="/">Brent Vatne</a></h2>
        <time>22 May 2012</time>
      </hgroup>
    </header>

    <section class="blog-post-body">
      <p>After a month of using <a href="http://tmux.sourceforge.net/">Tmux</a> I can safely say that
I really love how it organizes my workflow. If you haven't used Tmux before, I
highly recommend <a href="http://pragprog.com/book/bhtmux/tmux">Brian Hogan's book</a>. I
have only read the first few chapters, and that was enough for me to get going
and be more productive in Tmux and terminal VIM than I ever was with MacVim.</p>

<p>That all said, it didn't take long before I ran into a potentially showstopping issue
with Tmux on Mac OSX: copying text within Tmux does not copy it to the OSX
clipboard.  Luckily, smart people have toiled over this problem and come up with
a good solution. Here is what I did:</p>

<h3>Install <a href="https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard/">reattach-to-user-namespace</a> through <a href="http://mxcl.github.com/homebrew/">homebrew</a></h3>

<div class="highlight"><pre><code class="bash">brew install reattach-to-user-namespace
</code></pre></div>


<h3>Open tmux.conf and paste the following lines</h3>

<div class="highlight"><pre><code class="bash"><span class="nb">set</span>-option -g default-command <span class="s2">&quot;reattach-to-user-namespace -l zsh&quot;</span>
<span class="nb">bind </span>y run <span class="s2">&quot;tmux save-buffer - | reattach-to-user-namespace pbcopy&quot;</span>
<span class="nb">bind </span>p run <span class="s2">&quot;tmux paste-buffer&quot;</span>
</code></pre></div>


<p>Now when you select text with your cursor in Tmux, if you press prefix
+ y afterwards it will copy the text to your OSX clipboard. prefix
  + p will paste from your Tmux buffer, and &#8984; + V will paste from
your OSX clipboard. A perfect solution would copy the text to the OSX
clipboard without requiring any Tmux commands to be executed by the
user, but I have yet to find a way to do this without a <a href="http://robots.thoughtbot.com/post/19398560514/how-to-copy-and-paste-with-tmux-on-mac-os-x">constantly
polling shell
script</a>.</p>

    </section>
  </article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'brentvatne';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

        </section>
      </div>

      <div class="sixteen columns">
        <footer>
          <nav>
            <a href="http://www.github.com/brentvatne/">github.com/brentvatne</a>
            <a href="http://www.twitter.com/notbrent/">@notbrent</a>
            <a href="mailto:brentvatne@gmail.com">brentvatne@gmail.com</a>
          </nav>
        </footer>
      </div>
    </div>
  </body>
</html>

